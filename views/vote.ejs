<%- include('header') %>

<main class= "vote-page"> 

  <section class="guide">
    <h1>voter guide</h1>
    <ul>
      <li>Each voter is entitled to a maximum of three votes, Each eligible voter has the right to cast vote and each vote carries equal weight.</li>
      <li>Voters are restricted to casting their votes exclusively for candidates belonging to a single political party.</li>
      <li>Prior to casting their vote, it is mandatory for voters to complete the registration process.</li>
      <li>A voter is permitted to cast their vote only once, Hence it is not possible to revise or alter the vote once it has been submitted.</li>
  
    </ul>
    <h3>VOTE FOR FUTURE!</h3>
  </section>

  <!-- tab section -->
  <% for(var k=0; k < parties.length; k++) { %> 
    <% var myArray =JSON.stringify(parties[k]);%>
    <button
      class="tablink"
      onclick="openTab(event,'<%=parties[k][0].party%>',this)"
      
    >
      <%=parties[k][0].party%>
    </button>
  <% } %>

  <!-- content -->

  <% const partyImgURl = {"Democratic Party":"https://img.freepik.com/free-vector/silhouette-people-demonstration_23-2147997865.jpg?w=740&t=st=1686035927~exp=1686036527~hmac=db9f238bf03d7e3bcf6e078503820eae085d48255133e0e314a2d22aed4f0454",
                          "Republican Party":"https://img.freepik.com/premium-vector/man-holding-flag-front-large-crowd-people-illustration_3890-407.jpg?w=740",
                          "Labour Party":"https://img.freepik.com/premium-vector/man-making-speech-audience-with-signboard-silhouette_18591-49042.jpg?w=740",
                          "Liberal Party":"https://img.freepik.com/free-vector/silhouette-crowd-people-with-flags-banners-manifestation_23-2148009668.jpg?w=740&t=st=1686038033~exp=1686038633~hmac=8a6824bf3083eccd9fa6e696c7bddd4175da9d7addf71fcdb555ba225e83938d" }  %>
  
  <% for(var i=0; i < parties.length; i++) { %>
    <div class="tabcontent" id="<%=parties[i][0].party%>">
      <form id="voting_form" action="/vote" method="post" autocomplete="off">
        <div class="row row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 row-cols-1">
          <% for(var j=0; j < parties[i].length; j++) { %>
            <div class="col">
              <label for="<%=parties[i][j]._id%>">
              <div id="<%=parties[i][j].name%>" class="card card-custom border-white border-1">
                <div class="card-custom-img" style="background-image: url(<%=partyImgURl[parties[i][0].party]%>);"></div>
                <div class="card-custom-avatar">
                  <% if (parties[i][j].gender === "Male"){ %>
                    <img class="img-fluid" src="https://www.caiml.co.uk/wp-content/uploads/2016/03/270x270-male-avatar.png" alt="Avatar" />
                  <% }else{%>
                    <img class="img-fluid" src="https://www.caiml.co.uk/wp-content/uploads/2016/03/270x270-female-avatar.png" alt="Avatar" />
                  <% } %>
                </div>

                <h3 class="name card-title"><%=parties[i][j].name%></h3>

                <h1 class="number"><%=parties[i][j].voting_number%></h1>

                <div class="card-body" style="overflow-y: auto">
                  <p class="qualifications card-text"><%=parties[i][j].qualifications%></p>
                </div>

                <div class="checkbox-wrapper-62 card-footer">
                  <input type="checkbox" class="check" id="<%=parties[i][j]._id%>" name="myCheckbox" value="<%=parties[i][j].party%>|<%=parties[i][j].name%>|<%=parties[i][j].voting_number%>" />
                  <label for="<%=parties[i][j]._id%>" class="label">
                    <svg width="43" height="43" viewbox="0 0 90 90">
                      <rect x="30" y="20" width="50" height="50" stroke="black" fill="none" />
                      <g transform="translate(0,-952.36218)">
                        <path d="m 13,983 c 33,6 40,26 55,48 " stroke="black" stroke-width="3" class="path1" fill="none" />
                        <path d="M 75,970 C 51,981 34,1014 25,1031 " stroke="black" stroke-width="3" class="path1" fill="none" />
                      </g>
                    </svg>
                  </label>
                </div>
              </div>
            </label>
            </div>
          <% } %>
        </div>
        <button type="submit">CONFIRM</button>
      </form>
    </div>
  <% } %>
  
</main>


<%- include('footer') %>
